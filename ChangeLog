2000-02-23   Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* mime-image.el
	(mime-image-normalize-xbm-buffer): New inline function.
	(mime-image-create) [XEmacs || Emacs21]: Use it for XBM data.
	(mime-display-image): Don't create temporary file.

2000-02-24  Mito  <mit@nines.nec.co.jp>

	* mime-edit.el (mime-edit-normalize-body): Fix number of arguments
	against enriched-encode.

2000-02-27  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el: Don't show a child entity of
	message/external-body.

2000-02-21   Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* pgg.el (pgg-temp-buffer-show-function): Use
	`shrink-window-if-larger-than-buffer'.

	* pgg-gpg.el (pgg-gpg-process-region): Fix cleanup form.

	* pgg-pgp.el (pgg-pgp-process-region): Ditto.

	* pgg-pgp5.el (pgg-pgp5-process-region): Ditto.

	* semi-setup.el (mime-setup-enable-inline-image): Remove checking
	of bitmap-mule; use `eval-after-load' instead of
	`call-after-loaded' to require `mime-image'.

	* mime-image.el (mime-display-image): Set default umask to 077.
	(mime-image-create): Use `nothing-image-instance-p'.

	* mime-pgp.el: When it is compiled, define `smime-output-buffer'
	and `smime-errors-buffer' to avoid compiler warning.

	* mime-edit.el: Ditto.

	* mime-pgp.el
	(mime-view-application/pkcs7-mime): Regard smime-type as
	"enveloped-data" unless it is specified.

	* smime.el (smime-directory-files): Abolish.
	(smime-verify-region): Abolish local variable `args'.

2000-02-20   Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* mime-image.el: Remove X-Face setting; require cl when compiling.
	(mime-image-format-alist): Remove image/x-mag and image/x-pic.
	(mime-image-type-available-p): New function.
	(mime-image-create): New function.
	(mime-image-insert): New function.
	(mime-display-image): Rewrite.

	* mime-edit.el
	(mime-edit-define-charset): Handle 'mime-charset-comment.

2000-02-02  Nakagawa, Makoto  <Makoto.Nakagawa@jp.compaq.com>

	* pgg-pgp5.el (pgg-scheme-verify-region): Copy the contents of
	`pgg-errors-buffer' to `pgg-output-buffer'.

2000-02-21  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* EMY 1.13.4 is released.

2000-02-20  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* semi-def.el (mime-insert-button): Insert newline to avoid
	face property concatenation.

2000-02-20  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-preview-toggle-button): New function.
	(mime-view-define-keymap): Define C-h C-t b to
	mime-preview-toggle-button.
	(mime-preview-buttonize): Use it.
	(mime-preview-unbuttonize): Ditto.
	(mime-preview-type): Call mime-preview-toggle-body.

2000-02-20  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-preview-toggle-header): Add optional
	argument show.  When show, always displays rather than toggle.
	(mime-preview-toggle-all-header): Ditto.
	(mime-preview-toggle-content): Ditto.

2000-02-20  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-preview-follow-current-entity):
	Delete header and insert new one.
	(mime-preview-toggle-header): Don't manipulate entity button.
	(mime-preview-toggle-all-header): New function.

2000-02-16  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-preview-quit): Fix bug which unconditionally
	removes preview-buffer.
	From: Yuuichi Teranishi <teranisi@gohome.org>

2000-02-15  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-follow-current-entity): Try to be
	compatible with FSF Emacs.

2000-02-14  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* EMY 1.13.3 is released.

2000-02-12  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-display-entity): Prefer visibility of
	entity-button, not invisibility.
	(mime-view-children-is-invisible): New macro.
	(mime-display-entity): Check children can be shown.

2000-02-12  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-preview-toggle-header): New function.
	(mime-preview-toggle-content): New function.
	(mime-view-define-keymap): Bind C-c C-t C-h to
	mime-preview-toggle-header, C-h C-t C-c to mime-preview-toggle-content.
	Bind C-c C-e to mime-preview-extract-current-entity.

2000-02-12  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-preview-entity-boundary): New function.
	(mime-preview-follow-current-entity): Use it.
	(mime-view-button-is-visible): New macro.
	(mime-view-body-is-visible): Ditto.

2000-02-10  MORIOKA Tomohiko  <tomo@m17n.org>

	* mime-view.el (mime-display-message): Use `major-mode' of
	current-buffer as default value of `original-major-mode'; don't
	use `mime-entity-header-buffer'.
	(mime-preview-follow-current-entity): Use `mime-insert-header' to
	insert header; don't use `mime-entity-header-buffer',
	`mime-entity-header-start-point' and
	`mime-entity-header-end-point'.

2000-02-12  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-view-insert-entity-button): Add invisible
	when body is invisible.

2000-02-11  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-preview-quit): Kill preview buffer
	when mode-specific function is not found.

2000-02-11  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* Makefile (MAKEINFO): New variable.

2000-02-09  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* Makefile (distclean): New target.

2000-02-08  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el: Fix byte-compiler warnings.
	* mime-play.el: Ditto.
	(mime-preview-quitting-method-for-mime-show-message-mode):
	Check whether raw-buffer exists.

2000-02-08  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* Makefile: (texinfmt, xtexinfmt): New rule to format Texinfo
	file with Emacs and XEmacs.

2000-02-07  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-edit.el: Fix doc string.
	* mime-view.el: Ditto.
	* pgg-gpg.el: Ditto.
	* pgg-parse.el: Ditto.
	* pgg-pgp.el: Ditto.
	* pgg-pgp5.el: Ditto.
	* pgg.el: Ditto.

2000-02-07  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-display-entity): Don't call
	mime-goto-header-start-point.  Clean up and remove redundant
	let clause.

2000-02-07  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* EMY 1.13.2 is released.

2000-02-07  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-display-message): Add new local variable
	line-move-ignore-invisible.  Bind it to t.

2000-02-06  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* pgg-def.el (pgg-default-scheme): Improve custom options.

2000-02-05  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* Makefile: Format Info file.

2000-02-04  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-edit.el: Synch with EMIKO 1.13.11.
	* mime-image.el: Ditto.
	* mime-pgp.el: Ditto.
	* semi-def.el: Ditto.
	* semi-setup.el: Ditto.
	* mime-ui-en.sgml: Ditto.
	* mime-ui-en.texi: Ditto.
	* mime-ui-ja.sgml: Ditto.
	* mime-ui-ja.texi: Ditto.

	* pgg-def.el: Synch with EMIKO 1.13.11.  New file.
	* pgg-gpg.el: Ditto.
	* pgg-parse.el: Ditto.
	* pgg-pgp.el: Ditto.
	* pgg-pgp5.el: Ditto.
	* pgg.el: Ditto.
	* smime.el: Ditto.

2000-02-03  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-edit.el (mime-file-types): Defaults type of patch to
	text/plain.  There's not much reason to use application/octet-stream.

	* mime-view.el (mime-display-detect-application/octet-stream):
	New function.
	* mime-view.el (mime-display-gzipped): New function.
	Ungzip content and inline it.  Requires external gzip program.

2000-01-31  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* EMY 1.13.1 is released.

2000-01-31 Yoshiki Hayashi  <yoshiki@xemacs.org>

	* emy.texi: Describe how to deal with broken message.

2000-01-31 Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-play.el (mime-save-content-for-broken-message): New function.

2000-01-28  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-display-entity): Clean up code.

2000-01-28  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* mime-view.el (mime-display-entity): Fix handling of
	inline parameter of Content-Disposition.

2000-01-20  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-edit.el (mime-edit-user-agent-value): Add apel-version.

2000-01-14  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* EMY 1.13.0 is released.

2000-01-05  Katsumi Yamaoka   <yamaoka@jpl.org>

	* Makefile, README.en: Update for the new CVS server.

1999-12-13  Katsumi Yamaoka   <yamaoka@jpl.org>

	* README.en: Update for the recent ML address and ftp site.

1999-12-15  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-w3.el (mime-w3-message-structure): Removed.
	(mime-preview-text/html): Don't use mime-w3-message-structure.
	(mime-find-root-entity): New function. Should be in flim.
	(url-cid): Use it.

1999-12-14  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-preview-inline): Avoid inheriting
	text property.
	(mime-preview-text): Ditto.
	(mime-preview-type): Ditto.

1999-12-07  Yoshiki Hayashi  <t90553@mai.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-preview-scroll-full-screen): New variable.
	(mime-display-entiy): Fix attachment detection bug.

1999-12-06  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-preview-buttonize): New function.
	(mime-preview-unbuttionize): New function.

1999-12-06  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* emy.texi: New file.

1999-12-06  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-view-entity-type/subtype): New function
	to workaround flim feature.

1999-12-06  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-view-insert-entity-button): New optional
	argument body-is-invisible.
	(mime-display-entity): Use it.
	(mime-view-button-place-alist): New variable.
	(mime-view-entity-button-visible-p): Use it.

1999-12-05  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-view-force-inline-types): New variable.
	(mime-display-entity): Respect Content-Disposition type.
	(mime-preview-condition): Treat unknown application subtype
	as application/octet-stream.

1999-12-05  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-edit.el (mime-edit-attach-at-end-type): Changed
	to use symbols instead of strings.

1999-12-04  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-view-display): Always insert button
	when body is not displayed.

1999-12-04  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-display-text/x-rot13-47-48):
	New function.

1999-12-03  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-preview-text): Don't use DEFAULT
	argument of read-coding-system. XEmacs 21.1 doesn't
	accept that argument.

1999-11-29  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-edit.el (mime-edit-insert-file): Prompts for
	content-disposition when verbose.
	(mime-content-disposition-types): New variable.
	(mime-prompt-for-disposition): New function

1999-11-29  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-preview-type): New function.
	(mim-display-entity): Use save-restriction instead of widen.

1999-11-28  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-edit.el (mime-edit-attach-at-end-type): New variable.
	(mime-edit-insert-place): New macro.

1999-11-28  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mime-view.el (mime-preview-text): New function.
	(mime-preview-inline): New function.
	(mime-preview-type): New function.
	(mime-display-entity): Handle a situation when body is invisible.
